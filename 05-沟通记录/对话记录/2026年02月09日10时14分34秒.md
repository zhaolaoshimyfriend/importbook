# AI助手对话记录

## 对话信息
- **日期**: 2026年02月09日 10时14分34秒
- **主题**: 导账科目映射设计方案
- **关键字**: 需求分析

## 对话内容

**Q: 我现在要做导账的需求分析，这个是我们小企业会计准则的默认科目，导账过程中其他系统的科目可能跟我们有比较大的不一致，请问我需要怎么设计**

**A:** 

基于已有的场景分析和分类分析，我为你设计了一套完整的导账科目映射方案。核心思路是采用**三层匹配策略**，从简单到复杂，从精确到模糊，逐步处理科目映射问题。

### 核心设计架构

#### 1. 三层匹配策略

**第一层：传统精确匹配（处理71.4%的标准科目）**
- 完全匹配：编码+名称完全一致
- 编码匹配：编码相同但名称可能不同
- 层级匹配：多级科目结构匹配

**第二层：智能语义匹配（处理不一致情况）**
- 编码相似度匹配：使用编辑距离算法
- 名称语义匹配：使用相似度算法和同义词库
- 同义词匹配：建立同义词映射表

**第三层：人工干预处理**
- 候选列表选择
- 手动映射
- 新增/删除科目处理

#### 2. 匹配流程

```
对方系统科目 → 数据清洗 → 第一层匹配 → 第二层匹配 → 第三层处理 → 映射关系输出
```

### 关键设计要点

1. **数据预处理**
   - 编码清洗：去除空格、统一格式、标准化
   - 名称清洗：统一全角/半角、标准化术语

2. **匹配算法**
   - 传统方法：字符串精确匹配、层级规则匹配
   - 智能方法：编辑距离、语义相似度、同义词匹配

3. **映射关系管理**
   - 存储结构：记录匹配类型、评分、置信度
   - 模板管理：支持映射关系保存和复用
   - 验证机制：完整性检查、准确性检查

4. **用户交互**
   - 自动匹配界面：显示匹配统计和结果
   - 候选选择界面：提供相似度评分和候选列表
   - 手动映射界面：支持拖拽和搜索

5. **异常处理**
   - 数据异常：缺失、格式错误、重复
   - 匹配异常：无匹配、多匹配、冲突
   - 映射异常：冲突、缺失、错误

### 实施建议

**第一阶段（MVP）**：实现基础匹配，预期覆盖率60-70%
**第二阶段**：实现智能匹配，预期覆盖率80-90%
**第三阶段**：优化完善，预期覆盖率95%+

### 关键指标

- 自动匹配率：≥70%
- 匹配准确率：≥95%
- 处理效率：1000个科目/分钟

详细设计方案已保存在：`02-需求分析/业务分析/导账科目映射设计方案.md`

## 关键信息提取
- 采用三层匹配策略：传统匹配 → 智能匹配 → 人工处理
- 优先处理标准科目（71.4%），再处理不一致情况
- 需要数据预处理、匹配算法、映射关系管理、用户交互等模块
- 分阶段实施，逐步提高匹配覆盖率

## 后续行动
- [x] 完成导账科目映射设计方案
- [ ] 细化匹配算法实现细节
- [ ] 设计映射关系数据库结构
- [ ] 设计用户交互界面原型

## 备注
详细设计方案请参考：`02-需求分析/业务分析/导账科目映射设计方案.md`
